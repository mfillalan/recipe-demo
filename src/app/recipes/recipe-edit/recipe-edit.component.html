<mat-card style="margin: 10px">
  <mat-card-content>

    <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">

      

      <mat-form-field style="width: 100%;">
        <input 
          matInput
          placeholder="Name"
          type="text" 
          id="name"
          formControlName="name"
        >
      </mat-form-field>

      <mat-form-field style="width: 100%;">
        <input 
          matInput
          placeholder="Image URL"
          type="text" 
          id="imagePath"
          formControlName="imagePath"
          #imagePath
        >
      </mat-form-field>

      <img [src]="imagePath.value" class="img-responsive">
 
      <mat-form-field style="width: 100%">
        <textarea 
          matInput
          placeholder="Enter description here..."
          type="text" 
          id="description"
          formControlName="description"
          rows="6">
        </textarea>
      </mat-form-field>

      

      <div formArrayName="ingredients">

        <div 
          *ngFor="let ingredientCtrl of recipeForm.get('ingredients').controls; let i = index"
          [formGroupName]="i"
          style="margin-top: 10px">

            <mat-form-field style="width: 65%; margin-right: 5px">
              <input 
                matInput
                placeholder="Name"
                type="text" 
                formControlName="name"
              >
            </mat-form-field>

            <mat-form-field style="width: 15%; margin-right: 5px;">
              <input 
                matInput
                placeholder="Amount"
                type="number" 
                formControlName="amount"
              >
            </mat-form-field>

            <button 
              mat-button
              color="warn"
              type="button" 
              (click)="onDeleteIngredient(i)"
            >
              X
            </button>

        </div>

      </div>

      <hr>

      <div class="bottomButtons">

        <div style="float: left;">
          <button 
            type="button"
            class="btn btn-success" 
            (click)="onAddIngredient()">
            Add Ingredient
          </button>
        </div>

        <div style="float: right;">
          <button 
            mat-button
            color="primary"
            type="submit" 
            [disabled]="!recipeForm.valid"
          >
            Save
          </button>

          <button 
            mat-button
            color="accent"
            type="button" 
            (click)="onCancel()">
            Cancel
          </button>
        </div>

        
      </div>

    </form>

  </mat-card-content>

</mat-card>
